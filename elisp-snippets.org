#+PROPERTY: header-args  :results silent
* Meson build system
#+BEGIN_SRC emacs-lisp
(defun aod.meson/sources (dir regexp)
  (interactive "DDirectory:\nsRegexp: ")
  (message dir)
  (let* ((filenames (directory-files dir
				     t ; full path
				     regexp ;match
				     nil	;nosort
				     ))
	 (formatted (mapconcat (function (lambda (x)
					   (let ((relative-path (file-relative-name x ".")))
					     (format "'%s',\n" relative-path))))
			       filenames
			       " ")))
    (insert formatted)))
#+END_SRC
